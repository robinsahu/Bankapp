const e=[{owner:"Jonas Schmedtmann",movements:[200,450,-400,3e3,-650,-130,70,1300],interestRate:1.2,pin:1111,movementsDates:["2019-11-18T21:31:17.178Z","2019-12-23T07:42:02.383Z","2020-01-28T09:15:04.904Z","2020-04-01T10:17:24.185Z","2020-05-08T14:11:59.604Z","2020-07-26T17:01:17.194Z","2020-07-28T23:36:17.929Z","2020-08-01T10:51:36.790Z"]},{owner:"Jessica Davis",movements:[5e3,3400,-150,-790,-3210,-1e3,8500,-30],interestRate:1.5,pin:2222,movementsDates:["2019-11-01T13:15:33.035Z","2019-11-30T09:48:16.867Z","2019-12-25T06:04:23.907Z","2020-01-25T14:18:46.235Z","2020-02-05T16:33:06.386Z","2020-04-10T14:43:26.374Z","2020-06-25T18:49:59.371Z","2020-07-26T12:01:20.894Z"]},{owner:"Steven Thomas Williams",movements:[200,-200,340,-300,-20,50,400,-460],interestRate:.7,pin:3333,movementsDates:["2019-11-01T13:15:33.035Z","2019-11-30T09:48:16.867Z","2019-12-25T06:04:23.907Z","2020-01-25T14:18:46.235Z","2020-02-05T16:33:06.386Z","2020-04-10T14:43:26.374Z","2020-06-25T18:49:59.371Z","2020-07-26T12:01:20.894Z"]},{owner:"Sarah Smith",movements:[430,1e3,700,50,90],interestRate:1,pin:4444,movementsDates:["2019-11-18T21:31:17.178Z","2019-12-23T07:42:02.383Z","2020-01-28T09:15:04.904Z","2020-04-01T10:17:24.185Z","2020-05-08T14:11:59.604Z","2020-07-26T17:01:17.194Z","2020-07-28T23:36:17.929Z","2020-08-01T10:51:36.790Z"]}],t=document.querySelector(".welcome"),n=document.querySelector(".date"),o=document.querySelector(".balance__value"),r=document.querySelector(".summary__value--in"),s=document.querySelector(".summary__value--out"),a=document.querySelector(".summary__value--interest"),u=document.querySelector(".timer"),l=document.querySelector(".app"),d=document.querySelector(".movements"),c=document.querySelector(".login__btn"),i=document.querySelector(".form__btn--transfer"),m=document.querySelector(".form__btn--loan"),v=document.querySelector(".form__btn--close"),f=document.querySelector(".btn--sort"),_=document.querySelector(".login__input--user"),y=document.querySelector(".login__input--pin"),p=document.querySelector(".form__input--to"),h=document.querySelector(".form__input--amount"),S=document.querySelector(".form__input--loan-amount"),T=document.querySelector(".form__input--user"),g=document.querySelector(".form__input--pin"),L=document.querySelector(".error_user"),Z=document.querySelector(".error_password"),q=document.querySelector(".error_userTransfer"),b=document.querySelector(".error_amount");new Map([["USD","United States dollar"],["EUR","Euro"],["GBP","Pound sterling"]]);!function(e){for(const t of e)t.username=t.owner.toLowerCase().split(" ").map((function(e){return e[0]})).join("")}(e);const $=function(e){C(e),x(e),w(e)},D=function(e){const t=(n=new Date,o=e,Math.round(Math.abs(o-n)/864e5));var n,o;console.log(t);return`${`${e.getDate()}`.padStart(2,0)}/${`${e.getMonth()+1}`.padStart(2,0)}/${e.getFullYear()}`},C=function(e,t=!1){d.innerHTML="";const n=t?e.movements.slice().sort(((e,t)=>e-t)):e.movements;for(const[t,o]of n.entries()){const n=new Date(e.movementsDates[t]),r=o>0?"deposit":"withdrawal",s=` <div class="movements__row">\n          <div class="movements__type movements__type--${r}">${t+1} ${r}</div>\n          <div class="movements__date">${D(n)}</div>\n          <div class="movements__value">&#8377;${Math.abs(o)}</div>\n        </div>`;d.insertAdjacentHTML("afterbegin",s)}},w=function(e){e.balance=e.movements.reduce((function(e,t){return e+t}),0),o.textContent=`₹${e.balance}`},x=function(e){const t=e.movements.filter((e=>e>0)).reduce(((e,t)=>e+t),0);r.textContent=`₹${t}`;const n=e.movements.filter((e=>e<0)).reduce(((e,t)=>e+t),0);s.textContent=`₹${Math.abs(n)}`;const o=e.movements.filter((e=>e>0)).map((t=>t*e.interestRate/100)).filter(((e,t,n)=>e>=1)).reduce(((e,t)=>e+t),0);a.textContent=`₹${o}`};let E,I;c.addEventListener("click",(function(o){if(o.preventDefault(),E=e.find((e=>e.username===_.value)),""===y.value||""===_.value?""===y.value?(document.getElementById("pin_error").textContent="Pin is required",Z.classList.remove("hidden"),L.classList.add("hidden")):(document.getElementById("user_error").textContent="User is required",L.classList.remove("hidden"),Z.classList.add("hidden")):E?(document.getElementById("pin_error").textContent="Pin is incorrect",L.classList.add("hidden"),Z.classList.remove("hidden")):(document.getElementById("user_error").textContent="User does not exist",Z.classList.add("hidden"),L.classList.remove("hidden")),y.blur(),""===y.value&&""===_.value&&(L.classList.add("hidden"),Z.classList.add("hidden")),E&&(null==E?void 0:E.pin)===Number(y.value)){L.classList.add("hidden"),Z.classList.add("hidden"),t.textContent=`Welcome back, ${E.owner.split(" ")[0]}`,l.classList.remove("hidden"),_.value="",y.value="",$(E),I&&clearInterval(I),I=function(){let e=600;const n=function(){const n=String(Math.trunc(e/60)).padStart(2,0),o=String(e%60).padStart(2,0);u.textContent=`${n}:${o}`,0===e&&(clearInterval(I),t.textContent="Log in to get started",l.classList.add("hidden")),e--};return n(),I=setInterval(n,1e3),I}();const e=new Date,o=`${e.getDate()}`.padStart(2,0),r=`${e.getMonth()+1}`.padStart(2,0),s=e.getFullYear(),a=`${e.getHours()}`.padStart(2,0),d=`${e.getMinutes()}`.padStart(2,0);n.textContent=`${o}/${r}/${s}, ${a}:${d}`}}));i.addEventListener("click",(function(t){t.preventDefault();const n=Number(h.value),o=e.find((e=>e.username===p.value));console.log(E),function(e,t){""===h.value||""===p.value?""===h.value?(document.getElementById("amount_error").textContent="Amount is required",q.classList.add("hidden"),b.classList.remove("hidden"),b.style.backgroundColor="#fff",b.style.color="Black"):(document.getElementById("transferUser_error").textContent="User is required",q.classList.remove("hidden"),b.classList.add("hidden"),q.style.backgroundColor="#fff",q.style.color="Black"):e?t<=0?(document.getElementById("amount_error").textContent="Invalid Amount ",q.classList.add("hidden"),b.classList.remove("hidden"),b.style.backgroundColor="#fff",b.style.color="Black"):E.balance<=t?(q.classList.add("hidden"),b.classList.add("hidden"),alert("You don't have enough balance in your account")):E.username===e.username&&alert("You can't transfer money to your own account"):(document.getElementById("transferUser_error").textContent="User does not exist",q.classList.remove("hidden"),b.classList.add("hidden"),q.style.backgroundColor="#fff",q.style.color="Black")}(o,n),n>0&&E.balance>=n&&E.username!==(null==o?void 0:o.username)&&(null==o?void 0:o.username)&&(o.movements.push(n),E.movements.push(-n),o.movementsDates.push((new Date).toISOString()),E.movementsDates.push((new Date).toISOString()),$(E),p.value="",h.value="",h.blur(),alert(`${n} has been succesfully transferred to ${o.username}`),p.value="",h.value="",h.blur())})),m.addEventListener("click",(function(e){e.preventDefault();const t=Number(S.value);t>0&&E.movements.some((e=>e>=.1*t))&&(E.movements.push(t),E.movementsDates.push(new Date),$(E)),S.value=""})),v.addEventListener("click",(function(t){if(t.preventDefault(),T.value===E.username&&(null==E?void 0:E.pin)===Number(g.value)){const t=e.findIndex((e=>e.username===E.username));console.log(t),e.splice(t,1),l.classList.add("hidden"),T.value="",g.value=""}else E.username!==T.value?alert("Username is incorrect"):alert("Pin is incorrect")}));let k=!1;f.addEventListener("click",(function(e){e.preventDefault(),C(E,!k),k=!k}));
//# sourceMappingURL=index.f5e0f3e0.js.map
